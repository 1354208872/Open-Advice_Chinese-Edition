\chapterwithauthor{Jonathan ``Duke'' Leto}{Test-Driven Enlightenment}

\authorbio{Jonathan ``Duke'' Leto是一个软件开发者，公开发表的数学家，
武士，热衷的自行车手。他居住在俄勒冈州的波特兰。他是Parrot虚拟机的
核心开发者也是莱托实验室有限公司的创始人。}

\noindent{}当我最初接触到自由开源软件的时候，我对测试是
什么、为什么测试很重要完全没有思绪。在这之前，我曾为一些私人
项目工程工作过，但我第一次真正同别人合作
的时候是Yacas，另一个计算机代数系统，一个和Mathematica相似的代数系统。

眼下这个阶段，测试是后话。我通常的
工作是破解代码 $\rightarrow$ 看看它是否有效 $\rightarrow$
写一段代码检验它工作（如果可以）。如果这段测试代码很难写，
基本上就不会写了。

这是通往Test-Driven Enlightenment路上的第一步。你知道测试
大概会是一个好主意，但你没有完全看清楚它带来的好处，所以
你也就偶尔写点测试代码。

如果我可以打开一个虫洞来告诉年轻的我一句关于测试的
真理，它应该是这样的：
\begin{quote}“某些用来测试的代码，在长期看来，往往比被测试的代码本身
还重要”\end{quote}

不少人现在正想着我带着帽子，
坐着写代码的样子。用来测试的代码为什么比被测试的代码
\emph{更}重要？测试是检验代码的保证，
它指引你写出正确的代码，同时提供
灵活的变化，以及知道程序仍在正常运行。你的代码库越大，
你的代码就越珍贵，因为他们允许你改变一部分
代码并且确保剩下的部分可以正常工作。

另一个原因是，它暗示着某些东西
的确是满意的，而不是无意识的副作用和忽略。如果
你有一份说明，你可以用测试来核对，这
非常重要，对于某些方面是必要的。一段测试就像在说
一个故事，故事的内容就是你觉得代码是怎样工作的。



















